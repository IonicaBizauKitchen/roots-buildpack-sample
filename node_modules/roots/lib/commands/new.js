// Generated by CoffeeScript 1.7.0
(function() {
  var Roots, path;

  require('colors');

  path = require('path');

  Roots = require('../');

  exports.execute = function(args) {
    var k, name, proj_path, tpl_name;
    name = args._[1];
    if (!name) {
      return console.error('missing project name'.red);
    }
    proj_path = path.join(args._[2] || process.cwd(), name);
    for (k in args) {
      if (k !== '_' && k !== '$0') {
        tpl_name = k;
      }
    }
    if (tpl_name == null) {
      tpl_name = 'roots-base';
    }
    return Roots["new"]({
      path: proj_path,
      template: tpl_name
    }).on('template:created', function() {
      console.log(("new project created at " + (proj_path.replace(process.cwd(), '').slice(1))).green);
      return console.log(("(using " + tpl_name + " template)").grey);
    }).on('deps:installing', function() {
      return process.stdout.write('\ninstalling dependencies... '.grey);
    }).on('deps:finished', function() {
      return process.stdout.write('done!\n'.green);
    }).on('error', console.error.bind(console));
  };

}).call(this);
